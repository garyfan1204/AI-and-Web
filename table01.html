<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/all.min.css">
    <link rel="stylesheet" href="css/table-rwd.css">
    <link rel="stylesheet" href="css/layout.css">
    <script src="js/jquery-3.7.1.js"></script>
    <script src="js/layout.js" defer></script>
    <title>表格練習</title>
</head>
<body>
    <div class="container">
        <table class="table table-striped table-bordered table-hover table-rwd">
            <thead class="table-dark">
                <tr>
                    <th width="5%">編號</th>
                    <th width="15%">餐廳名稱</th>
                    <th width="20%">地址</th>
                    <th width="20%">風景圖</th>
                    <th width="20%">電話</th>
                    <th width="20%">店家介紹</th>
                </tr>
            </thead>
            <tbody id="tbody">
                <tr>
                    <td data-th="商品編號"><span>001</span></td>
                    <td data-th="商品名稱"><span>美式咖啡</span></td>
                    <td data-th="商品圖片">
                        <span><img src="images/coffe.jpg" class="img-fluid img-thumbnail" alt=""></span>
                    </td>
                    <td data-th="商品價格"><span>$50</span></td>
                    <td data-th="商品數量"><span>20</span></td>
                    <td data-th="商品備註"><span>深烘焙</span></td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
        $(function() {
            $.ajax( {
                type: "GET",
                url: "https://data.moa.gov.tw/Service/OpenData/ODwsv/ODwsvTravelFood.aspx?IsTransData=1&UnitId=193",
                dataType: "json",
                success: showdata,
                error() {
                    console.log("連線失敗")
                }
            })
            
            function showdata(data) {
                console.log(data)
                $("#tbody").empty()
                for(i = 0; i < data.length; i++) {
                    // console.log(i + ":" + data[i].Name)
                    let htmltable = 
                    `
                    <tr>
                        <td data-th="餐廳編號"><span>${i+1}</span></td>
                        <td data-th="餐廳名稱"><span>${data[i].Name}</span></td>
                        <td data-th="地址"><span>${data[i].City + data[i].Town + data[i].Address}</span></td>
                        <td data-th="風景圖">
                            <span><img src="${data[i].PicURL}" class="img-fluid img-thumbnail" alt=""></span>
                        </td>
                        <td data-th="電話"><span>${data[i].Tel}</span></td>
                        <td data-th="介紹"><span>${data[i].HostWords}</span></td>
                    </tr>
                    `
                    $("#tbody").append(htmltable)
                }
            }
        })
    </script>
</body>
</html>